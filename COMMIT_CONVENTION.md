# 커밋 메시지 규칙

커밋 자동 생성 시 아래 규칙을 사용해 메시지를 통일합니다.

## 형식

```
<타입>(<범위>): <제목>

[선택] 본문
[선택] 푸터
```

- **타입**: 소문자, 영문
- **범위**: 선택. 변경 영향 범위(모듈/파일)
- **제목**: 50자 이내. 마침표 없음. 한글 또는 영문
- **본문**: 무엇을/왜 바꿨는지 설명 (선택)
- **푸터**: 이슈 번호 등 (선택, 예: `Refs #123`)

## 타입 (한국 현업 범용)

| 타입     | 설명 |
|----------|------|
| `feat`   | 새로운 기능 추가 |
| `fix`    | 버그 수정 |
| `docs`   | 문서만 변경 (README, 주석, 규칙 등) |
| `style`  | 코드 동작 변경 없음 (포맷, 세미콜론, 공백 등) |
| `refactor` | 리팩터링 (기능 동일, 구조/코드 개선) |
| `test`   | 테스트 추가·수정 |
| `chore`  | 빌드, 설정, 의존성, 도구 등 (기능/문서/테스트 외) |

## 제목 작성 규칙

- 동사 원형 또는 명령형: "추가한다", "수정한다", "제거한다" 또는 "Add", "Fix", "Remove"
- **목적을 드러내는 어투**를 사용한다: "무엇을 위해 무엇을 했는지"가 보이도록 작성

### 제목 어투 (구체적 표현)

| 상황 | 어투 패턴 | 예시 |
|------|-----------|------|
| 기능 추가 | `~를 개선/보완하기 위해 ~를 추가함` | OCR 정확도 개선을 위해 전처리 필터를 추가함 |
| 기능 추가 | `~ 지원을 위해 ~를 추가함` | 대용량 PDF 지원을 위해 스트리밍 업로드 API를 추가함 |
| 버그 수정 | `~의 (문제)를 해결하기 위해 ~를 수정함` | 한글 깨짐 현상을 해결하기 위해 인코딩 처리를 수정함 |
| 버그 수정 | `~ 시 (오류)가 나던 문제를 수정함` | 페이지 0 참조 시 IndexError가 나던 문제를 수정함 |
| 리팩터링 | `~ 가독성/유지보수를 위해 ~를 분리함` | 라우터 가독성을 위해 OCR 로직을 서비스로 분리함 |
| 리팩터링 | `~를 개선하기 위해 ~를 리팩터링함` | 목차 파싱 정확도를 개선하기 위해 정규식을 리팩터링함 |
| 문서 | `~를 보완/명확화하기 위해 ~를 수정함` | 설치 절차를 보완하기 위해 README를 수정함 |
| 설정/의존성 | `~를 위해 ~ 의존성/설정을 추가함` | Tesseract 연동을 위해 pytesseract 의존성을 추가함 |

- 제목은 **50자 이내**, 마침표 없음. 필요 시 본문에 상세 이유를 적음.

## 예시

```
feat(pdf): 대용량 PDF 처리를 위해 페이지 단위 스트리밍 변환을 추가함
feat(ocr): 인식률 개선을 위해 이미지 전처리(이진화) 단계를 추가함
fix(ocr): 한글 인식 오류 시 재시도 로직을 적용함
fix(summary): 빈 목차 구간에서 예외가 나던 문제를 수정함
docs: Anaconda 환경 구성을 보완하기 위해 README 설치 절차를 수정함
refactor(summary): 목차 파싱 유지보수를 위해 서비스 계층으로 분리함
refactor(api): 응답 형식 통일을 위해 DTO 모듈을 추가함
test(ocr): 회귀 방지를 위해 목차 감지 단위 테스트를 추가함
chore: Tesseract 연동을 위해 requirements에 pytesseract를 추가함
```

### 본문 예시 (선택, 상세 이유)

```
feat(ocr): 인식률 개선을 위해 이미지 전처리 단계를 추가함

- 의회문서 스캔본의 배경 노이즈 제거를 위해 이진화 적용
- threshold 값은 config에서 조정 가능하도록 설정 추가
```

## 커밋 자동 생성 시 적용

- AI/도구로 커밋 메시지 생성 시 **반드시** `<타입>(<범위>): <제목>` 형식을 따릅니다.
- 제목은 **"~를 개선/보완하기 위해 ~를 추가함"** 같은 목적 드러내는 어투로 작성합니다. 단순 동사 나열("~ 추가", "~ 수정")보다 "무엇을 위해 무엇을 했는지"가 보이도록 합니다.
- 변경 내용이 기능이면 `feat`, 버그면 `fix`, 문서면 `docs`, 코드 정리면 `refactor`/`style`, 설정/빌드면 `chore`를 선택합니다.
- 상세한 이유가 있으면 본문에 bullet로 보완합니다.
